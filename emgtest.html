<!DOCTYPE html>

<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<title>EMG å›å¾©ç©©å®šç‰ˆï¼ˆå«éŸ³æ•ˆèˆ‡UIï¼‰</title>
<style>
    body { font-family: sans-serif; padding: 20px; }
    canvas { max-width: 100%; height: 250px; }
    .btn-group { margin-top: 10px; margin-bottom: 10px; }
    button {
      font-size: 1.1em; padding: 8px 16px; margin-right: 10px; margin-bottom: 6px;
      border: none; border-radius: 5px; cursor: pointer;
    }
    select, input[type="number"] {
      font-size: 1em; margin-left: 10px;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="btn-group"><label>MP3é–€æª»å€¼ï¼š<input id="mp3Threshold" style="width: 80px;" type="number" value="350"/></label></div><button onclick="enableAudio()" style="background-color:#dc3545; color:white; margin-bottom:10px;">å•Ÿç”¨éŸ³æ•ˆ</button><button onclick="toggleSound()" style="background-color:#ff6600; color:white;">åˆ‡æ›éŸ³æ•ˆï¼ˆç›®å‰ï¼šé–‹ï¼‰</button>
<h2>EMG åŸå§‹æ³¢å½¢åœ–ï¼ˆåœ°éœ‡åœ–ï¼‰</h2>
<div class="btn-group">
<button onclick="connect()" style="background-color:#28a745; color:white;">é€£æ¥è—ç‰™</button>
<button id="pauseBtn" onclick="togglePause()" style="background-color:#007BFF; color:white;">æš«åœ</button>
</div>
<p id="value">åŸå§‹æ•¸å€¼ï¼š--</p>
<canvas id="emgChart"></canvas>
<h2 id="zoomTitle">EMG æ ¡æ­£æ³¢å½¢åœ–ï¼ˆè™•ç†æ¨¡å¼ï¼‰
    <button onclick="performCalibration()" style="background-color:#ffc107; color:black; font-size: 0.9em; margin-left: 10px;">ğŸ“ æ ¡æ­£</button>
</h2>
<canvas id="zoomChart"></canvas>
<p id="adjusted">æ ¡æ­£å¾Œæ•¸å€¼ï¼š--</p>
<p id="mvc">å³æ™‚å¼·åº¦ï¼š-- %</p>
<div class="btn-group">
<label>æ ¡æ­£æ•¸å€¼å€ç‡ï¼š
      <select id="amplifyRate">
<option value="1">100%</option>
<option value="1.2">120%</option>
<option value="1.4">140%</option>
<option value="1.6">160%</option>
<option value="1.8">180%</option>
<option value="2">200%</option>
</select>
</label>
</div>
<div class="btn-group">
<button onclick="setMode('raw')" style="background-color:#17a2b8; color:white;">åŸå§‹</button>
<button onclick="setMode('mean')" style="background-color:#17a2b8; color:white;">å¹³å‡</button>
<button onclick="setMode('max')" style="background-color:#17a2b8; color:white;">æœ€å¤§å€¼</button>
<button onclick="setMode('rms')" style="background-color:#17a2b8; color:white;">RMS</button>
<button onclick="resetMax()" style="background-color:#6c757d; color:white;">é‡è¨­æœ€å¤§å€¼</button>
</div>
<script>
function enableAudio() {
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    gainNode = audioCtx.createGain();
    oscillator = audioCtx.createOscillator();
    oscillator.type = 'sawtooth';
    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);
    oscillator.start();
    gainNode.gain.value = 0;
  }
  if (audioCtx.state === 'suspended') {
    audioCtx.resume();
  }
  alert("éŸ³æ•ˆç³»çµ±å·²å•Ÿå‹•");
}
</script></body>
</html>
